<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Riky_Tzy</title>
    <script src="https://cdn.jsdelivr.net/npm/@tailwindcss/browser@4"></script>
    <link
      href="https://fonts.googleapis.com/css2?family=Poppins:wght@300;400;600;700&display=swap"
      rel="stylesheet"
    />
  </head>

  <body class="bg-green-200 h-screen font-[Poppins]">
    <div class="flex items-center justify-center mt-20">
      <div class="bg-white p-8 w-1/3 rounded-3xl">
        <div class="font-bold text-xl">YOUR ORDER</div>

        <div class="font-bold text-sm mt-5">Cold Brew Coffee</div>

        <div class="flex justify-between items-center mt-2">
          <div class="bg-gray-200 text-xs px-2 py-1 rounded">
            Rp. 30.000 / item
          </div>

          <div class="flex items-center gap-2">
            <button id="decBtn" class="px-2 bg-gray-200 rounded">-</button>
            <span id="Nomor" class="font-bold">1</span>
            <button id="incBtn" class="px-2 bg-gray-200 rounded">+</button>

            <button
              id="resetBtn"
              class="ml-2 text-sm text-white bg-gray-500 px-4 py-1 rounded"
            >
              Reset
            </button>
          </div>
        </div>

        <hr class="my-3" />

        <div class="flex justify-between font-bold text-sm">
          <span>Total</span>
          <span class="text-emerald-800">
            IDR <span id="totalPrice">30000</span>
          </span>
        </div>

        <div class="mt-6">
          <div class="font-bold text-[#595959] text-xl">
            PAYMENT METHOD
          </div>

          <form onsubmit="handleSubmit(event)">
            <select
              id="paymentMethod"
              class="w-full border rounded-lg p-2 mt-4"
              onchange="handlePaymentChange()"
            >
              <option value="">>>> Pilih Payment <<<</option>
              <option value="gopay">Gopay</option>
              <option value="dana">Dana</option>
              <option value="ovo">Ovo</option>
            </select>

            <div id="paymentDetail" class="hidden text-center mt-6">
              <p class="text-gray-600 text-sm">Nomor Pembayaran</p>
              <p id="paymentNumber" class="font-bold text-lg mt-1"></p>

              <img
                id="paymentQr"
                class="w-40 h-40 mx-auto mt-4"
                alt="QR Code"
              />
            </div>

            <button
              type="submit"
              class="bg-[#2F7B5D] text-white w-full mt-6 py-2 rounded-3xl"
            >
              Submit
            </button>
          </form>
        </div>
      </div>
    </div>

    <!-- TOAST -->
    <div
      id="toast"
      class="fixed bottom-6 left-1/2 -translate-x-1/2 bg-green-600 text-white px-6 py-3 rounded-xl opacity-0 transition"
    >
      âœ” Pembayaran berhasil
    </div>

    <script>
      const qtyEl = document.getElementById("Nomor");
      const totalEl = document.getElementById("totalPrice");
      const decBtn = document.getElementById("decBtn");
      const incBtn = document.getElementById("incBtn");
      const resetBtn = document.getElementById("resetBtn");

      let qty = 1;
      const price = 30000;
      const min = 1;
      const max = 10;

      function update() {
        qtyEl.textContent = qty;
        totalEl.textContent = qty * price;
        decBtn.disabled = qty <= min;
        incBtn.disabled = qty >= max;
      }

      decBtn.onclick = () => {
        if (qty > min) qty--;
        update();
      };

      incBtn.onclick = () => {
        if (qty < max) qty++;
        update();
      };

      resetBtn.onclick = () => {
        qty = 1;
        update();
      };

      update();

      function handlePaymentChange() {
        const method = paymentMethod.value;
        const detail = document.getElementById("paymentDetail");
        const number = document.getElementById("paymentNumber");
        const qr = document.getElementById("paymentQr");

        if (!method) {
          detail.classList.add("hidden");
          return;
        }

        detail.classList.remove("hidden");

        if (method === "gopay") {
          number.textContent = "35254";
          qr.src =
            "https://api.qrserver.com/v1/create-qr-code/?size=200x200&data=GOPAY";
        } else if (method === "dana") {
          number.textContent = "94284";
          qr.src =
            "https://api.qrserver.com/v1/create-qr-code/?size=200x200&data=DANA";
        } else {
          number.textContent = "21591";
          qr.src =
            "https://api.qrserver.com/v1/create-qr-code/?size=200x200&data=OVO";
        }
      }

      function showToast(msg) {
        const toast = document.getElementById("toast");
        toast.textContent = msg;
        toast.style.opacity = "1";
        setTimeout(() => (toast.style.opacity = "0"), 2500);
      }

      function handleSubmit(e) {
        e.preventDefault();
        if (!paymentMethod.value) {
          showToast("Pilih metode pembayaran dulu");
          return;
        }
        showToast("Pembayaran berhasil");
        paymentMethod.value = "";
        handlePaymentChange();
        qty = 1;
        update();
      }
    </script>
  </body>
</html>
